{"ast":null,"code":"var _jsxFileName = \"/home/thomas/navebe/front/src/components/models_area/card_create_model/CreateModel.js\";\nimport React, { useState, useEffect } from 'react';\nimport url from '../../../api/url';\nimport origin from '../../../api/origin';\nimport useGlobalState from '../../../hooks/useGlobalState';\nimport ContentEditable from 'react-contenteditable';\nimport './CreateModel.scss';\n\nconst CreateModel = () => {\n  const [adding, setAdding] = useState(false);\n  const [inputValue, setInputValue] = useState({\n    html: \"nouveau model\"\n  });\n  const [contentEditable] = useState(React.createRef());\n  const [send, setSend] = useState(false);\n  const {\n    connectClassActive,\n    connectClassDisable,\n    classConnectButton\n  } = useGlobalState();\n  const [userId, setUserId] = useState();\n  const [token, setToken] = useState();\n  useEffect(() => {\n    if (localStorage.getItem('userId')) {\n      setUserId(localStorage.getItem('userId'));\n      setToken(localStorage.getItem('token'));\n    } else {\n      setUserId(sessionStorage.getItem('userId'));\n      setToken(sessionStorage.getItem('token'));\n    }\n  }, []);\n\n  const changeInput = event => {\n    setInputValue({\n      html: event.target.value\n    });\n  };\n\n  const addModel = () => {\n    fetch(url + '/model/add', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Acces-Control-Allow-Origin': {\n          origin\n        },\n        'authorization': token\n      },\n      body: JSON.stringify({\n        name: inputValue.html,\n        user_id: userId\n      })\n    });\n    setTimeout(() => {\n      setSend(true);\n    }, 200);\n\n    if (classConnectButton === 'imgConnectActive') {\n      connectClassDisable();\n    } else {\n      connectClassActive();\n    }\n\n    window.location.reload();\n  };\n\n  const activeContent = () => {\n    setTimeout(() => {\n      setAdding(true);\n    }, 200);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"containerAddModel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, adding === false && send !== true ? React.createElement(\"div\", {\n    onClick: activeContent,\n    className: \"contentAddModel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    onClick: activeContent,\n    className: \"textCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Cr\\xE9er une boite de r\\xE9c\"), React.createElement(\"div\", {\n    className: \"contentShine\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"add\",\n    onClick: activeContent,\n    src: require('../../message_space/addCategory/image/plus_icon.png'),\n    className: \"addButtonCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"shine\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }))) : adding === true && send !== true ? React.createElement(\"div\", {\n    className: \"contentAddModelActive\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"textCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Entrez le nom du model\"), React.createElement(ContentEditable, {\n    className: \"inputAddModel\",\n    innerRef: contentEditable,\n    html: inputValue.html,\n    disabled: false,\n    onChange: changeInput,\n    tagName: \"article\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: addModel,\n    className: \"buttonAddModel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Ajouter\")) : React.createElement(\"div\", {\n    className: \"contentAddModelActive\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"contentSetTimeout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, setTimeout(() => {\n    setSend(false);\n    setAdding(false);\n  }, 1500)), React.createElement(\"p\", {\n    className: \"textCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Model cr\\xE9\\xE9 !\")));\n};\n\nexport default CreateModel;","map":{"version":3,"sources":["/home/thomas/navebe/front/src/components/models_area/card_create_model/CreateModel.js"],"names":["React","useState","useEffect","url","origin","useGlobalState","ContentEditable","CreateModel","adding","setAdding","inputValue","setInputValue","html","contentEditable","createRef","send","setSend","connectClassActive","connectClassDisable","classConnectButton","userId","setUserId","token","setToken","localStorage","getItem","sessionStorage","changeInput","event","target","value","addModel","fetch","method","headers","body","JSON","stringify","name","user_id","setTimeout","window","location","reload","activeContent","require"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport url from '../../../api/url'\nimport origin from '../../../api/origin'\nimport useGlobalState from '../../../hooks/useGlobalState'\nimport ContentEditable from 'react-contenteditable'\nimport './CreateModel.scss'\n\n\nconst CreateModel = () => {\n    const [adding, setAdding] = useState(false)\n    const [inputValue, setInputValue] = useState({html: \"nouveau model\"})\n    const [contentEditable] = useState(React.createRef())\n    const [send, setSend] = useState(false)\n    const { connectClassActive, connectClassDisable, classConnectButton } = useGlobalState();\n    const [userId, setUserId] = useState()\n    const [token, setToken] = useState()\n\n    useEffect(() => {\n        if(localStorage.getItem('userId')){\n            setUserId(localStorage.getItem('userId'))\n            setToken(localStorage.getItem('token'))\n        } else {\n            setUserId(sessionStorage.getItem('userId'))\n            setToken(sessionStorage.getItem('token'))\n        }\n    }, [])\n\n\n    const changeInput = (event) => {\n        setInputValue({html: event.target.value})\n    }\n\n    const addModel = () => {\n        fetch(url + '/model/add', {\n            method: 'POST',\n            headers: {\n              'Content-Type' :'application/json',\n              'Acces-Control-Allow-Origin' : {origin},\n              'authorization': token\n            },\n            body: JSON.stringify({\n                name : inputValue.html,\n                user_id : userId\n            })\n          });\n        setTimeout(() => {\n            setSend(true)\n        }, 200)\n        if(classConnectButton === 'imgConnectActive'){\n            connectClassDisable()\n        } else {\n            connectClassActive()\n        }\n        window.location.reload()\n    }\n\n    const activeContent = () => {\n        setTimeout(() => {\n            setAdding(true)\n        },200)\n    }\n\n    return(\n        <div className=\"containerAddModel\">\n            {adding === false && send !== true ?\n                <div onClick={activeContent} className=\"contentAddModel\">\n                    <p onClick={activeContent} className=\"textCategory\">Créer une boite de réc</p>\n                    <div className=\"contentShine\">\n                        <img alt=\"add\" onClick={activeContent} src={require('../../message_space/addCategory/image/plus_icon.png')} className=\"addButtonCategory\"/>\n                        <div className=\"shine\"/>\n                    </div>\n                </div>\n            : adding === true && send !== true ?\n                <div className=\"contentAddModelActive\">\n                    <p className=\"textCategory\">Entrez le nom du model</p>\n                    <ContentEditable\n                        className=\"inputAddModel\"\n                        innerRef={contentEditable}\n                        html={inputValue.html}\n                        disabled={false}\n                        onChange={changeInput}\n                        tagName='article'\n                    />\n                    <button onClick={addModel} className=\"buttonAddModel\">Ajouter</button>\n                </div>\n            : \n                <div className=\"contentAddModelActive\">\n                    <div className=\"contentSetTimeout\">\n                        {setTimeout(() => {setSend(false); setAdding(false)}, 1500)}\n                    </div>\n                    <p className=\"textCategory\">Model créé !</p>\n                </div>}\n        </div>\n    )\n}\n\nexport default CreateModel"]},"metadata":{},"sourceType":"module"}