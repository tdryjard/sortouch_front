{"ast":null,"code":"var _jsxFileName = \"/home/thomas/navebe/front/src/components/data_area/DataArea.js\";\nimport React, { useEffect, useState } from 'react';\nimport Navbar from '../navbar/Navbar';\nimport MenuBurger from '../menuBurger/MenuBurger';\nimport url from '../../api/url';\nimport './DataArea.scss';\n\nconst DataArea = () => {\n  const [mails, setMails] = useState();\n  const [userId, setUserId] = useState();\n  const [modelId, setModelId] = useState();\n  const [token, setToken] = useState();\n  const [choiceModel, setChoiceModel] = useState('Tout');\n  const [choiceCategory, setChoiceCategory] = useState('');\n  const [models, setModels] = useState([]);\n  useEffect(() => {\n    if (localStorage.getItem('userId')) {\n      setUserId(localStorage.getItem('userId'));\n      setToken(localStorage.getItem('token'));\n    } else {\n      setUserId(sessionStorage.getItem('userId'));\n      setToken(sessionStorage.getItem('token'));\n    }\n\n    if (sessionStorage.getItem('modelId')) {\n      setModelId(sessionStorage.getItem('modelId'));\n    }\n  }, []);\n  useEffect(() => {\n    findAll();\n  }, [userId, token, modelId]);\n  console.log(userId);\n\n  const findAll = () => {\n    fetch(`${url}/mail/findByUser/${userId}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Acces-Control-Allow-Origin': {\n          origin\n        },\n        'authorization': token\n      }\n    }).then(res => res.json()).then(res => console.log(res));\n  };\n\n  useEffect(() => {\n    fetch(`${url}/model/findAll/${userId}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Acces-Control-Allow-Origin': {\n          origin\n        },\n        'authorization': token\n      }\n    }).then(res => res.json()).then(res => setModels(res));\n  }, [userId, token]);\n  console.log(models);\n  return React.createElement(\"div\", {\n    className: \"containerModelArea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, window.innerWidth > 1280 ? React.createElement(Navbar, {\n    type: \"data\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }) : React.createElement(MenuBurger, {\n    type: \"models\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"contentDataArea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"headSearchData\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    onClick: () => {\n      selectModel;\n    },\n    className: \"choiceSearchData\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"textChoiceData\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, choiceModel)), choiceModel !== 'Tout' && React.createElement(\"div\", {\n    className: \"choiceSearchData\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"textChoiceData\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, choiceModel)))));\n};\n\nexport default DataArea;","map":{"version":3,"sources":["/home/thomas/navebe/front/src/components/data_area/DataArea.js"],"names":["React","useEffect","useState","Navbar","MenuBurger","url","DataArea","mails","setMails","userId","setUserId","modelId","setModelId","token","setToken","choiceModel","setChoiceModel","choiceCategory","setChoiceCategory","models","setModels","localStorage","getItem","sessionStorage","findAll","console","log","fetch","method","headers","origin","then","res","json","window","innerWidth","selectModel"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport Navbar from '../navbar/Navbar'\nimport MenuBurger from '../menuBurger/MenuBurger'\nimport url from '../../api/url'\nimport './DataArea.scss'\n\n\nconst DataArea = () => {\n    const [mails, setMails] = useState()\n    const [userId, setUserId] = useState()\n    const [modelId, setModelId] = useState()\n    const [token, setToken] = useState()\n    const [choiceModel, setChoiceModel] = useState('Tout')\n    const [choiceCategory, setChoiceCategory] = useState('')\n    const [models, setModels] = useState([])\n\n    useEffect(() => {\n        if(localStorage.getItem('userId')){\n            setUserId(localStorage.getItem('userId'))\n            setToken(localStorage.getItem('token'))\n        } else {\n            setUserId(sessionStorage.getItem('userId'))\n            setToken(sessionStorage.getItem('token'))\n        }\n        if(sessionStorage.getItem('modelId')){\n            setModelId(sessionStorage.getItem('modelId'))\n        }\n    }, [])\n\n    useEffect(() => {\n        findAll()\n    }, [userId, token, modelId])\n\n    console.log(userId)\n\n    const findAll = () => {\n        fetch(`${url}/mail/findByUser/${userId}`, {\n            method: 'GET',\n            headers: {\n              'Content-Type' :'application/json',\n              'Acces-Control-Allow-Origin' : {origin},\n              'authorization': token }\n        })\n        .then(res => res.json())\n        .then(res => console.log(res))\n    }\n\n    useEffect(() => {\n        fetch(`${url}/model/findAll/${userId}`, {\n            method: 'GET',\n            headers: {\n              'Content-Type' :'application/json',\n              'Acces-Control-Allow-Origin' : {origin},\n              'authorization': token\n            }\n        })\n        .then(res => res.json())\n        .then(res => setModels(res))\n    }, [userId, token])\n\n    console.log(models)\n\n    return(\n        <div className=\"containerModelArea\">\n            {window.innerWidth > 1280 ?\n            <Navbar type={\"data\"}/>\n            :\n            <MenuBurger type={\"models\"}/>}\n            <div className=\"contentDataArea\">\n                <div className=\"headSearchData\">\n                    <div onClick={() => {selectModel}} className=\"choiceSearchData\">\n                        <p className=\"textChoiceData\">{choiceModel}</p>\n                    </div>\n                    {choiceModel !== 'Tout' &&\n                    <div className=\"choiceSearchData\">\n                        <p className=\"textChoiceData\">{choiceModel}</p>\n                    </div>}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default DataArea"]},"metadata":{},"sourceType":"module"}