{"ast":null,"code":"var _jsxFileName = \"/home/thomas/navebe/front/src/components/models_area/ModelsArea.js\";\nimport React, { useState, useEffect } from 'react';\nimport CreateModel from './card_create_model/CreateModel';\nimport CardModel from './card_model/CardModel';\nimport url from '../../api/url';\nimport './ModelsArea.scss';\n\nconst ModelArea = () => {\n  const [cards, setCards] = useState([]);\n  const [userId, setUserId] = useState();\n  const [mobile, setMobile] = useState(false);\n  const [popup, setPoupup] = useState(true);\n  const [token, setToken] = useState();\n  useEffect(() => {\n    if (window.innerWidth < 1280) setMobile(true);\n\n    if (localStorage.getItem('userId')) {\n      setUserId(localStorage.getItem('userId'));\n      setToken(localStorage.getItem('token'));\n    } else {\n      setUserId(sessionStorage.getItem('userId'));\n      setToken(sessionStorage.getItem('token'));\n    }\n\n    setTimeout(() => {}, 300);\n  }, []);\n  useEffect(() => {\n    fetch(`${url}/model/findAll/${userId}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Acces-Control-Allow-Origin': {\n          origin\n        },\n        'authorization': token\n      }\n    }).then(res => res.json()).then(res => {\n      setCards(res);\n      console.log(res);\n    });\n    console.log(token);\n  }, [userId, token]);\n  return React.createElement(\"div\", {\n    className: \"containerModelArea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"titleModelArea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Cr\\xE9ez et retrouvez \"), React.createElement(\"div\", {\n    className: \"contentModelArea\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(CreateModel, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), cards.length && cards.map((card, index) => {\n    return React.createElement(CardModel, {\n      id: card.id,\n      name: card.name,\n      index: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    });\n  })), mobile && popup && React.createElement(\"div\", {\n    className: \"containerPopupMobile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"textPopupMobile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Afin d'acc\\xE9der \\xE0 l'\\xE9diteur veuillez vous rendre sur \", window.location.href, \" avec votre ordinateur\"), React.createElement(\"img\", {\n    src: require('./image/cross.png'),\n    alt: \"close\",\n    className: \"crossPopup\",\n    onClick: () => {\n      setPoupup(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })));\n};\n\nexport default ModelArea;","map":{"version":3,"sources":["/home/thomas/navebe/front/src/components/models_area/ModelsArea.js"],"names":["React","useState","useEffect","CreateModel","CardModel","url","ModelArea","cards","setCards","userId","setUserId","mobile","setMobile","popup","setPoupup","token","setToken","window","innerWidth","localStorage","getItem","sessionStorage","setTimeout","fetch","method","headers","origin","then","res","json","console","log","length","map","card","index","id","name","location","href","require"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport CreateModel from './card_create_model/CreateModel'\nimport CardModel from './card_model/CardModel'\nimport url from '../../api/url'\nimport './ModelsArea.scss'\n\nconst ModelArea = () => {\n    const [cards, setCards] = useState([])\n    const [userId, setUserId] = useState()\n    const [mobile, setMobile]= useState(false)\n    const [popup, setPoupup] = useState(true)\n    const [token, setToken] = useState()\n\n    useEffect(() => {\n        if(window.innerWidth < 1280) setMobile(true)\n        if(localStorage.getItem('userId')){\n            setUserId(localStorage.getItem('userId'))\n            setToken(localStorage.getItem('token'))\n        } else {\n            setUserId(sessionStorage.getItem('userId'))\n            setToken(sessionStorage.getItem('token'))\n        }\n        setTimeout(() => {\n\n        }, 300)\n        \n    }, [])\n\n    useEffect(() => {\n        fetch(`${url}/model/findAll/${userId}`, {\n            method: 'GET',\n            headers: {\n              'Content-Type' :'application/json',\n              'Acces-Control-Allow-Origin' : {origin},\n              'authorization': token\n            }\n        })\n        .then(res => res.json())\n        .then(res => {setCards(res)\n             console.log(res)})\n             console.log(token)\n    }, [userId, token])\n\n    return(\n        <div className=\"containerModelArea\">\n            <h4 className=\"titleModelArea\">Créez et retrouvez </h4>\n            <div className=\"contentModelArea\">\n                <CreateModel/>\n                {cards.length &&\n                cards.map((card, index) => {\n                    return(\n                        <CardModel id={card.id} name={card.name} index={index}/>\n                    )\n                })}\n            </div>\n            {mobile && popup &&\n            <div className=\"containerPopupMobile\">\n                <p className=\"textPopupMobile\">Afin d'accéder à l'éditeur veuillez vous rendre sur {window.location.href} avec votre ordinateur</p>\n                <img src={require('./image/cross.png')} alt=\"close\" className=\"crossPopup\" onClick={() => {setPoupup(false)}} />\n            </div>}\n        </div>\n    )\n}\n\nexport default ModelArea"]},"metadata":{},"sourceType":"module"}