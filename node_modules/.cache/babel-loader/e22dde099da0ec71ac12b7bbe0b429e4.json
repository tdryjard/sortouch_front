{"ast":null,"code":"var _jsxFileName = \"/home/thomas/navebe/front/src/components/creating_area/ListStock/cardList/CardListCategory/addCategory/AddCategory.js\";\nimport React, { useState } from 'react';\nimport url from '../../../../../../api/url';\nimport origin from '../../../../../../api/origin';\nimport ContentEditable from 'react-contenteditable';\nimport useGlobalState from '../../../../../../';\nimport './AddCategory.scss';\n\nconst AddCategory = props => {\n  const [adding, setAdding] = useState(false);\n  const [nameCategory] = useState('');\n  const [inputValue, setInputValue] = useState({\n    html: \"\"\n  });\n  const [contentEditable] = useState(React.createRef());\n  const [send, setSend] = useState(false);\n  const {\n    connectClassActive,\n    connectClassDisable,\n    classConnectButton\n  } = useGlobalState();\n  const modelId = props.modelId;\n  console.log(nameCategory);\n\n  const changeInput = event => {\n    setInputValue({\n      html: event.target.value\n    });\n  };\n\n  const addCategory = () => {\n    fetch(url + '/category/add', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Acces-Control-Allow-Origin': {\n          origin\n        },\n        'authorization': props.token\n      },\n      body: JSON.stringify({\n        name: inputValue.html,\n        user_id: props.userId,\n        model_id: modelId\n      })\n    });\n    setTimeout(() => {\n      setSend(true);\n    }, 200);\n\n    if (classConnectButton === 'imgConnectActive') {\n      connectClassDisable();\n    } else {\n      connectClassActive();\n    }\n  };\n\n  const activeContent = () => {\n    setTimeout(() => {\n      setAdding(true);\n    }, 200);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"contentAddCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, adding === false && send !== true ? React.createElement(\"div\", {\n    onClick: activeContent,\n    className: \"contentUnderAddCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    onClick: activeContent,\n    className: \"textCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Ajouter cat\\xE9gorie\"), React.createElement(\"div\", {\n    className: \"contentShine\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"add icon\",\n    onClick: activeContent,\n    src: require('./image/plus_icon.png'),\n    className: \"addButtonCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"shine\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }))) : adding === true && send !== true ? React.createElement(\"div\", {\n    className: \"contentAddCategoryActive\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"textCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Entrez le nom de la cat\\xE9gorie\"), React.createElement(ContentEditable, {\n    className: \"inputAddCategory\",\n    innerRef: contentEditable,\n    html: inputValue.html,\n    disabled: false,\n    onChange: changeInput,\n    tagName: \"article\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: addCategory,\n    className: \"buttonAddCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Ajouter\")) : React.createElement(\"div\", {\n    className: \"contentAddCategoryActive\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"contentSetTimeout\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, setTimeout(() => {\n    setSend(false);\n    setAdding(false);\n  }, 1500)), React.createElement(\"p\", {\n    className: \"textCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Cat\\xE9gorie ajout\\xE9e !\")));\n};\n\nexport default AddCategory;","map":{"version":3,"sources":["/home/thomas/navebe/front/src/components/creating_area/ListStock/cardList/CardListCategory/addCategory/AddCategory.js"],"names":["React","useState","url","origin","ContentEditable","useGlobalState","AddCategory","props","adding","setAdding","nameCategory","inputValue","setInputValue","html","contentEditable","createRef","send","setSend","connectClassActive","connectClassDisable","classConnectButton","modelId","console","log","changeInput","event","target","value","addCategory","fetch","method","headers","token","body","JSON","stringify","name","user_id","userId","model_id","setTimeout","activeContent","require"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport url from '../../../../../../api/url'\nimport origin from '../../../../../../api/origin'\nimport ContentEditable from 'react-contenteditable'\nimport useGlobalState from '../../../../../../';\nimport './AddCategory.scss'\n\nconst AddCategory = (props) => {\n    const [adding, setAdding] = useState(false)\n    const [nameCategory] = useState('')\n    const [inputValue, setInputValue] = useState({html: \"\"})\n    const [contentEditable] = useState(React.createRef())\n    const [send, setSend] = useState(false)\n    const { connectClassActive, connectClassDisable, classConnectButton } = useGlobalState();\n    const modelId = props.modelId\n\n    console.log(nameCategory)\n\n    const changeInput = (event) => {\n        setInputValue({html: event.target.value})\n    }\n\n    const addCategory = () => {\n        fetch(url + '/category/add', {\n            method: 'POST',\n            headers: {\n              'Content-Type' :'application/json',\n              'Acces-Control-Allow-Origin' : {origin},\n              'authorization': props.token\n            },\n            body: JSON.stringify({\n                name : inputValue.html,\n                user_id : props.userId,\n                model_id : modelId\n            })\n          });\n        setTimeout(() => {\n            setSend(true)\n        }, 200)\n        if(classConnectButton === 'imgConnectActive'){\n            connectClassDisable()\n        } else {\n            connectClassActive()\n        }\n    }\n\n    const activeContent = () => {\n        setTimeout(() => {\n            setAdding(true)\n        },200)\n    }\n\n    return(\n        <div className=\"contentAddCategory\">\n            {adding === false && send !== true ?\n                <div onClick={activeContent} className=\"contentUnderAddCategory\">\n                    <p onClick={activeContent} className=\"textCategory\">Ajouter catégorie</p>\n                    <div className=\"contentShine\">\n                        <img alt=\"add icon\" onClick={activeContent} src={require('./image/plus_icon.png')} className=\"addButtonCategory\"/>\n                        <div className=\"shine\"/>\n                    </div>\n                </div>\n            : adding === true && send !== true ?\n                <div className=\"contentAddCategoryActive\">\n                    <p className=\"textCategory\">Entrez le nom de la catégorie</p>\n                    <ContentEditable\n                        className=\"inputAddCategory\"\n                        innerRef={contentEditable}\n                        html={inputValue.html}\n                        disabled={false}\n                        onChange={changeInput}\n                        tagName='article'\n                    />\n                    <button onClick={addCategory} className=\"buttonAddCategory\">Ajouter</button>\n                </div>\n            : \n                <div className=\"contentAddCategoryActive\">\n                    <div className=\"contentSetTimeout\">\n                        {setTimeout(() => {setSend(false); setAdding(false)}, 1500)}\n                    </div>\n                    <p className=\"textCategory\">Catégorie ajoutée !</p>\n                </div>}\n        </div>\n    )\n}\n\nexport default AddCategory"]},"metadata":{},"sourceType":"module"}