{"ast":null,"code":"var _jsxFileName = \"/home/thomas/navebe/front/src/components/registration/registration/Registration.js\";\nimport React, { useState } from 'react';\nimport url from '../../../api/url';\nimport { Redirect } from 'react-router-dom';\nimport './Registration.scss';\n\nconst Registration = () => {\n  const [mail, setMail] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordVerif, setPasswordVerif] = useState('');\n  const [alert, setAlert] = useState('');\n  const [redirect, setRedirect] = useState(false);\n\n  const validSub = async () => {\n    if (password !== passwordVerif) setAlert('mot de passe différents');else {\n      const response = await fetch(`${url}/user/create`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Acces-Control-Allow-Origin': {\n            origin\n          }\n        },\n        body: JSON.stringify({\n          email: mail,\n          password: password,\n          type: 'free'\n        })\n      });\n      const data = await response.json();\n      console.log();\n\n      if (data.data) {\n        setRedirect(true);\n      } else {\n        if (data.inputs && data.inputs[0] === \"email\") {\n          setAlert(\"veuillez entrer une email correct\");\n          console.log('dalu');\n        } else if (data.inputs && data.inputs[0] === \"password\") {\n          setAlert(\"veuillez entrer un mot de passe entre 8 et 25 caractères svp\");\n        }\n      }\n\n      console.log(data);\n    }\n    setTimeout(() => {\n      setAlert('');\n    }, 3000);\n  };\n\n  const takeMail = e => {\n    setMail(e.target.value);\n  };\n\n  const takePassword = e => {\n    setPassword(e.target.value);\n  };\n\n  const takePasswordVerif = e => {\n    setPasswordVerif(e.target.value);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"containerRegistration\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, redirect && React.createElement(Redirect, {\n    to: \"connexion\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"h4\", {\n    className: \"titleRegister\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Inscription\"), alert && React.createElement(\"div\", {\n    className: \"contentAlert\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"textAlert\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, alert)), React.createElement(\"form\", {\n    className: \"signForm\",\n    onSubmit: validSub,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: takeMail,\n    className: alert === \"veuillez entrer une email correct\" ? \"inputLogError\" : \"inputLog\",\n    placeholder: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"password\",\n    onChange: takePassword,\n    className: alert === \"veuillez entrer une email correct\" || alert === \"\" ? \"inputLog\" : \"inputLogError\",\n    placeholder: \"mot de passe\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"password\",\n    onChange: takePasswordVerif,\n    className: alert === \"veuillez entrer une email correct\" || alert === \"\" ? \"inputLog\" : \"inputLogError\",\n    placeholder: \"r\\xE9p\\xE9ter mot de passe\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    onClick: validSub,\n    className: \"validLog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Continuer\"));\n};\n\nexport default Registration;","map":{"version":3,"sources":["/home/thomas/navebe/front/src/components/registration/registration/Registration.js"],"names":["React","useState","url","Redirect","Registration","mail","setMail","password","setPassword","passwordVerif","setPasswordVerif","alert","setAlert","redirect","setRedirect","validSub","response","fetch","method","headers","origin","body","JSON","stringify","email","type","data","json","console","log","inputs","setTimeout","takeMail","e","target","value","takePassword","takePasswordVerif"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAO,qBAAP;;AAEA,MAAMC,YAAY,GAAG,MAAM;AACvB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACQ,aAAD,EAAgBC,gBAAhB,IAAoCT,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,KAAD,CAAxC;;AAGA,QAAMc,QAAQ,GAAG,YAAY;AACzB,QAAGR,QAAQ,KAAKE,aAAhB,EAA+BG,QAAQ,CAAC,yBAAD,CAAR,CAA/B,KACI;AACJ,YAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEf,GAAI,cAAR,EAAuB;AAC/CgB,QAAAA,MAAM,EAAE,MADuC;AAE/CC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,wCAA+B;AAACC,YAAAA;AAAD;AAFxB,SAFsC;AAM/CC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,UAAAA,KAAK,EAAEnB,IADU;AAEjBE,UAAAA,QAAQ,EAAEA,QAFO;AAGjBkB,UAAAA,IAAI,EAAE;AAHW,SAAf;AANyC,OAAvB,CAA5B;AAYA,YAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAT,EAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR;;AACA,UAAGH,IAAI,CAACA,IAAR,EAAa;AACTZ,QAAAA,WAAW,CAAC,IAAD,CAAX;AACH,OAFD,MAEO;AACH,YAAGY,IAAI,CAACI,MAAL,IAAeJ,IAAI,CAACI,MAAL,CAAY,CAAZ,MAAmB,OAArC,EAA6C;AACzClB,UAAAA,QAAQ,CAAC,mCAAD,CAAR;AACAgB,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACH,SAHD,MAGO,IAAGH,IAAI,CAACI,MAAL,IAAeJ,IAAI,CAACI,MAAL,CAAY,CAAZ,MAAmB,UAArC,EAAgD;AACnDlB,UAAAA,QAAQ,CAAC,8DAAD,CAAR;AACP;AACA;;AACDgB,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AAAkB;AAClBK,IAAAA,UAAU,CAAC,MAAM;AACbnB,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACH,KAFS,EAEP,IAFO,CAAV;AAGH,GA/BD;;AAiCA,QAAMoB,QAAQ,GAAIC,CAAD,IAAO;AACpB3B,IAAAA,OAAO,CAAC2B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AACH,GAFD;;AAIA,QAAMC,YAAY,GAAIH,CAAD,IAAO;AACxBzB,IAAAA,WAAW,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AACH,GAFD;;AAIA,QAAME,iBAAiB,GAAIJ,CAAD,IAAO;AAC7BvB,IAAAA,gBAAgB,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhB;AACH,GAFD;;AAKA,SACI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKtB,QAAQ,IAAI,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADjB,EAEI;AAAI,IAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,EAGKF,KAAK,IACN;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BA,KAA1B,CADJ,CAJJ,EAOI;AAAM,IAAA,SAAS,EAAC,UAAhB;AAA2B,IAAA,QAAQ,EAAEI,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,QAAQ,EAAEiB,QAAjB;AAA2B,IAAA,SAAS,EAAErB,KAAK,KAAK,mCAAV,GAAgD,eAAhD,GAAkE,UAAxG;AAAoH,IAAA,WAAW,EAAC,OAAhI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,QAAQ,EAAEyB,YAAjC;AAA+C,IAAA,SAAS,EAAEzB,KAAK,KAAK,mCAAV,IAAiDA,KAAK,KAAK,EAA3D,GAAgE,UAAhE,GAA6E,eAAvI;AAAyJ,IAAA,WAAW,EAAC,cAArK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,QAAQ,EAAE0B,iBAAjC;AAAoD,IAAA,SAAS,EAAE1B,KAAK,KAAK,mCAAV,IAAiDA,KAAK,KAAK,EAA3D,GAAgE,UAAhE,GAA6E,eAA5I;AAA6J,IAAA,WAAW,EAAC,4BAAzK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CAPJ,EAYI;AAAQ,IAAA,OAAO,EAAEI,QAAjB;AAA2B,IAAA,SAAS,EAAC,UAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAZJ,CADJ;AAgBH,CAtED;;AAwEA,eAAeX,YAAf","sourcesContent":["import React, {useState} from 'react'\nimport url from '../../../api/url'\nimport { Redirect } from 'react-router-dom'\nimport './Registration.scss'\n\nconst Registration = () => {\n    const [mail, setMail] = useState('')\n    const [password, setPassword] = useState('')\n    const [passwordVerif, setPasswordVerif] = useState('')\n    const [alert, setAlert] = useState('')\n    const [redirect, setRedirect] = useState(false)\n\n\n    const validSub = async () => {\n        if(password !== passwordVerif) setAlert('mot de passe différents')\n        else{\n        const response = await fetch(`${url}/user/create`, {\n            method: 'POST',\n            headers: {\n              'Content-Type' :'application/json',\n              'Acces-Control-Allow-Origin' : {origin}\n            },\n            body: JSON.stringify({\n                email: mail,\n                password: password,\n                type: 'free'\n            })\n          });\n        const data = await response.json();\n        console.log()\n        if(data.data){\n            setRedirect(true)\n        } else {\n            if(data.inputs && data.inputs[0] === \"email\"){\n                setAlert(\"veuillez entrer une email correct\")\n                console.log('dalu')\n            } else if(data.inputs && data.inputs[0] === \"password\"){\n                setAlert(\"veuillez entrer un mot de passe entre 8 et 25 caractères svp\")\n        }\n        }\n        console.log(data)}\n        setTimeout(() => {\n            setAlert('')\n        }, 3000)\n    }\n\n    const takeMail = (e) => {\n        setMail(e.target.value)\n    }\n\n    const takePassword = (e) => {\n        setPassword(e.target.value)\n    }\n\n    const takePasswordVerif = (e) => {\n        setPasswordVerif(e.target.value)\n    }\n    \n\n    return(\n        <div className=\"containerRegistration\">\n            {redirect && <Redirect to='connexion'/>}\n            <h4 className=\"titleRegister\">Inscription</h4>\n            {alert &&\n            <div className=\"contentAlert\">\n                <p className=\"textAlert\">{alert}</p>\n            </div>}\n            <form className=\"signForm\" onSubmit={validSub}>\n                <input onChange={takeMail} className={alert === \"veuillez entrer une email correct\" ? \"inputLogError\" : \"inputLog\"} placeholder=\"email\"/>\n                <input type=\"password\" onChange={takePassword} className={alert === \"veuillez entrer une email correct\" || alert === \"\" ? \"inputLog\" : \"inputLogError\"}  placeholder=\"mot de passe\"/>\n                <input type=\"password\" onChange={takePasswordVerif} className={alert === \"veuillez entrer une email correct\" || alert === \"\" ? \"inputLog\" : \"inputLogError\"} placeholder=\"répéter mot de passe\"/>\n            </form>\n            <button onClick={validSub} className=\"validLog\">Continuer</button>\n        </div>\n    )\n}\n\nexport default Registration"]},"metadata":{},"sourceType":"module"}