{"ast":null,"code":"var _jsxFileName = \"/home/thomas/sortouch_front/src/components/chatbot_area/fromContact/FormContact.js\";\nimport React, { useState } from 'react';\nimport url from '../../../api/url';\nimport './FormContact.scss';\n\nconst FormContact = props => {\n  const [phone, setPhone] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  function validateEmail(email) {\n    let re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  }\n\n  const validatePhone = phone => {\n    let re = /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/im;\n    return re.test(phone);\n  };\n\n  const takePhone = event => {\n    setPhone(event.target.value);\n  };\n\n  const takeEmail = event => {\n    setEmail(event.target.value);\n  };\n\n  const sendMail = () => {\n    if (!validateEmail(email)) {\n      alert('email non valide');\n    } else if (!validatePhone(phone)) {\n      alert('numéro de téléphone non valide');\n    } else {\n      fetch(url + '/mail/create', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Acces-Control-Allow-Origin': {\n            origin\n          }\n        },\n        body: JSON.stringify({\n          phone: phone,\n          email: email,\n          message: message,\n          category_id: props.categoryId,\n          model_id: props.modelId,\n          user_id: props.userId,\n          view: 0\n        })\n      });\n    }\n  };\n\n  const getMessage = e => {\n    setMessage(e.target.value);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"containerForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"contentHeadForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    onChange: takeEmail,\n    type: \"text\",\n    className: \"emailForm\",\n    placeholder: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    onChange: takePhone,\n    type: \"text\",\n    className: \"phoneForm\",\n    placeholder: \"num\\xE9ro de t\\xE9l\\xE9phone\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    src: require('../chatbotArea/image/backForm.svg'),\n    alt: \"icon form\",\n    className: \"imgForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })), React.createElement(\"textarea\", {\n    className: \"inputMessageForm\",\n    placeholder: \"message\",\n    onChange: getMessage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: sendMail,\n    className: \"sendFormButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Envoyer !\"));\n};\n\nexport default FormContact;","map":{"version":3,"sources":["/home/thomas/sortouch_front/src/components/chatbot_area/fromContact/FormContact.js"],"names":["React","useState","url","FormContact","props","phone","setPhone","email","setEmail","message","setMessage","validateEmail","re","test","validatePhone","takePhone","event","target","value","takeEmail","sendMail","alert","fetch","method","headers","origin","body","JSON","stringify","category_id","categoryId","model_id","modelId","user_id","userId","view","getMessage","e","require"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport url from '../../../api/url'\nimport './FormContact.scss'\n\nconst FormContact = (props) => {\n    const [phone, setPhone] = useState(\"\")\n    const [email, setEmail] = useState(\"\")\n    const [message, setMessage] = useState(\"\")\n\n    function validateEmail(email) {\n        let re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(email);\n    }\n\n    const validatePhone = (phone) => {\n        let re = /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/im\n        return re.test(phone)\n    }\n\n    const takePhone = (event) => {\n        setPhone(event.target.value)\n    }\n\n    const takeEmail = (event) => {\n        setEmail(event.target.value)\n    }\n\n    const sendMail = () => {\n        if(!validateEmail(email)){\n            alert('email non valide')\n        } else if (!validatePhone(phone)){\n            alert('numéro de téléphone non valide')\n        } else {\n            fetch(url + '/mail/create', {\n                method: 'POST',\n                headers: {\n                    'Content-Type' :'application/json',\n                    'Acces-Control-Allow-Origin' : {origin}\n                },\n                body: JSON.stringify({\n                    phone : phone,\n                    email : email,\n                    message: message,\n                    category_id : props.categoryId,\n                    model_id : props.modelId,\n                    user_id : props.userId,\n                    view: 0\n                    })\n                });\n        }\n    }\n\n    const getMessage = (e) => {\n        setMessage(e.target.value)\n    }\n    \n\n    return(\n        <div className=\"containerForm\">\n            <div className=\"contentHeadForm\">\n                <input onChange={takeEmail} type=\"text\" className=\"emailForm\" placeholder=\"email\"/>\n                <input onChange={takePhone} type=\"text\" className=\"phoneForm\" placeholder=\"numéro de téléphone\"/>\n                <img src={require('../chatbotArea/image/backForm.svg')} alt=\"icon form\" className=\"imgForm\"/>\n            </div>\n            <textarea className=\"inputMessageForm\" placeholder=\"message\" onChange={getMessage}/>\n          <button onClick={sendMail} className=\"sendFormButton\">Envoyer !</button>\n        </div>\n    )\n}\n\nexport default FormContact"]},"metadata":{},"sourceType":"module"}