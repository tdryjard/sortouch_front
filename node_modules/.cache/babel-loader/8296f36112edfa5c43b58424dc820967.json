{"ast":null,"code":"var _jsxFileName = \"/home/thomas/sortouch_front/src/components/creating_area/ListStock/cardList/CardListCategory/CardListCategory.js\";\nimport React, { useState, useEffect } from 'react';\nimport './CardListCategory.css';\nimport url from '../../../../../api/url';\nimport origin from '../../../../../api/origin';\nimport useGlobalState from '../../../../../hooks/useGlobalState';\n\nconst CardListDestination = props => {\n  const [classJoinDest, setClassJoinDest] = useState('joinIconDest');\n  const {\n    connectClassActive,\n    classConnectButton\n  } = useGlobalState();\n  const [userId, setUserId] = useState();\n  const [modelId, setModelId] = useState();\n  const [token, setToken] = useState();\n  useEffect(() => {\n    if (localStorage.getItem('userId')) {\n      setUserId(localStorage.getItem('userId'));\n      setToken(localStorage.getItem('token'));\n    } else {\n      setUserId(sessionStorage.getItem('userId'));\n      setToken(sessionStorage.getItem('token'));\n    }\n\n    setModelId(sessionStorage.getItem('modelId'));\n  }, []);\n\n  const joinCategory = () => {\n    setClassJoinDest('joinIconDestActive');\n    connectClassActive();\n\n    try {\n      fetch(`${url}/relation/add`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Acces-Control-Allow-Origin': {\n            origin\n          },\n          'authorization': token\n        },\n        body: JSON.stringify({\n          category_id: props.id,\n          onChange: true,\n          user_id: userId,\n          model_id: modelId\n        })\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  onmousedown = function (event) {\n    setClassJoinDest('joinIconDest');\n    console.log(classJoinDest);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"containerCardListCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    onClick: joinCategory,\n    src: require('../image/join_icon.png'),\n    className: classJoinDest,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"nameCardCategory\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, props.name));\n};\n\nexport default CardListDestination;","map":{"version":3,"sources":["/home/thomas/sortouch_front/src/components/creating_area/ListStock/cardList/CardListCategory/CardListCategory.js"],"names":["React","useState","useEffect","url","origin","useGlobalState","CardListDestination","props","classJoinDest","setClassJoinDest","connectClassActive","classConnectButton","userId","setUserId","modelId","setModelId","token","setToken","localStorage","getItem","sessionStorage","joinCategory","fetch","method","headers","body","JSON","stringify","category_id","id","onChange","user_id","model_id","error","console","log","onmousedown","event","require","name"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAO,wBAAP;AACA,OAAOC,GAAP,MAAgB,wBAAhB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,cAAP,MAA2B,qCAA3B;;AAEA,MAAMC,mBAAmB,GAAIC,KAAD,IAAW;AACnC,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCR,QAAQ,CAAC,cAAD,CAAlD;AACA,QAAM;AAAES,IAAAA,kBAAF;AAAsBC,IAAAA;AAAtB,MAA6CN,cAAc,EAAjE;AACA,QAAM,CAACO,MAAD,EAASC,SAAT,IAAsBZ,QAAQ,EAApC;AACA,QAAM,CAACa,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,EAAtC;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,EAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGgB,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAH,EAAkC;AAC9BN,MAAAA,SAAS,CAACK,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAD,CAAT;AACAF,MAAAA,QAAQ,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAAR;AACH,KAHD,MAGO;AACHN,MAAAA,SAAS,CAACO,cAAc,CAACD,OAAf,CAAuB,QAAvB,CAAD,CAAT;AACAF,MAAAA,QAAQ,CAACG,cAAc,CAACD,OAAf,CAAuB,OAAvB,CAAD,CAAR;AACH;;AACDJ,IAAAA,UAAU,CAACK,cAAc,CAACD,OAAf,CAAuB,SAAvB,CAAD,CAAV;AACH,GATQ,EASN,EATM,CAAT;;AAWA,QAAME,YAAY,GAAG,MAAM;AACvBZ,IAAAA,gBAAgB,CAAC,oBAAD,CAAhB;AACAC,IAAAA,kBAAkB;;AAClB,QAAG;AACCY,MAAAA,KAAK,CAAE,GAAEnB,GAAI,eAAR,EAAwB;AAC3BoB,QAAAA,MAAM,EAAE,MADmB;AAE3BC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,wCAA+B;AAACpB,YAAAA;AAAD,WAFxB;AAGP,2BAAiBY;AAHV,SAFkB;AAO3BS,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBC,UAAAA,WAAW,EAAGrB,KAAK,CAACsB,EADH;AAEjBC,UAAAA,QAAQ,EAAG,IAFM;AAGjBC,UAAAA,OAAO,EAAGnB,MAHO;AAIjBoB,UAAAA,QAAQ,EAAGlB;AAJM,SAAf;AAPqB,OAAxB,CAAL;AAcD,KAfH,CAeI,OAAOmB,KAAP,EAAe;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACN,GArBD;;AAuBAG,EAAAA,WAAW,GAAG,UAASC,KAAT,EAAgB;AAC1B5B,IAAAA,gBAAgB,CAAC,cAAD,CAAhB;AACAyB,IAAAA,OAAO,CAACC,GAAR,CAAY3B,aAAZ;AACH,GAHD;;AAQA,SACI;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,OAAO,EAAEa,YAAd;AAA4B,IAAA,GAAG,EAAEiB,OAAO,CAAC,wBAAD,CAAxC;AAAoE,IAAA,SAAS,EAAE9B,aAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAG,IAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiCD,KAAK,CAACgC,IAAvC,CAFJ,CADJ;AAMH,CAvDD;;AAyDA,eAAejC,mBAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport './CardListCategory.css'\nimport url from '../../../../../api/url';\nimport origin from '../../../../../api/origin';\nimport useGlobalState from '../../../../../hooks/useGlobalState';\n\nconst CardListDestination = (props) => {\n    const [classJoinDest, setClassJoinDest] = useState('joinIconDest')\n    const { connectClassActive, classConnectButton } = useGlobalState();\n    const [userId, setUserId] = useState()\n    const [modelId, setModelId] = useState()\n    const [token, setToken] = useState()\n\n    useEffect(() => {\n        if(localStorage.getItem('userId')){\n            setUserId(localStorage.getItem('userId'))\n            setToken(localStorage.getItem('token'))\n        } else {\n            setUserId(sessionStorage.getItem('userId'))\n            setToken(sessionStorage.getItem('token'))\n        }\n        setModelId(sessionStorage.getItem('modelId'))\n    }, [])\n\n    const joinCategory = () => {\n        setClassJoinDest('joinIconDestActive')\n        connectClassActive()\n        try{\n            fetch(`${url}/relation/add`, {\n              method: 'POST',\n              headers: {\n                'Content-Type' :'application/json',\n                'Acces-Control-Allow-Origin' : {origin},\n                'authorization': token\n              },\n              body: JSON.stringify({\n                  category_id : props.id,\n                  onChange : true,\n                  user_id : userId,\n                  model_id : modelId\n              })\n            });\n          } catch (error)  {\n            console.log(error);\n          }\n    }\n\n    onmousedown = function(event) {\n        setClassJoinDest('joinIconDest')\n        console.log(classJoinDest)\n    }\n\n    \n\n\n    return(\n        <div className=\"containerCardListCategory\">\n            <img onClick={joinCategory} src={require('../image/join_icon.png')} className={classJoinDest}/>\n            <p className=\"nameCardCategory\">{props.name}</p>\n        </div>\n    )\n}\n\nexport default CardListDestination;"]},"metadata":{},"sourceType":"module"}